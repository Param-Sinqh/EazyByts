{"ast":null,"code":"import Node, { addNodeClass } from '../core/Node.js';\nimport { property } from '../core/PropertyNode.js';\nimport { context as contextNode } from '../core/ContextNode.js';\nimport { addNodeElement, nodeProxy } from '../shadernode/ShaderNode.js';\nclass CondNode extends Node {\n  constructor(condNode, ifNode, elseNode = null) {\n    super();\n    this.condNode = condNode;\n    this.ifNode = ifNode;\n    this.elseNode = elseNode;\n  }\n  getNodeType(builder) {\n    const ifType = this.ifNode.getNodeType(builder);\n    if (this.elseNode !== null) {\n      const elseType = this.elseNode.getNodeType(builder);\n      if (builder.getTypeLength(elseType) > builder.getTypeLength(ifType)) {\n        return elseType;\n      }\n    }\n    return ifType;\n  }\n  generate(builder, output) {\n    const type = this.getNodeType(builder);\n    const context = {\n      tempWrite: false\n    };\n    const nodeData = builder.getDataFromNode(this);\n    if (nodeData.nodeProperty !== undefined) {\n      return nodeData.nodeProperty;\n    }\n    const {\n      ifNode,\n      elseNode\n    } = this;\n    const needsOutput = output !== 'void';\n    const nodeProperty = needsOutput ? property(type).build(builder) : '';\n    nodeData.nodeProperty = nodeProperty;\n    const nodeSnippet = contextNode(this.condNode /*, context*/).build(builder, 'bool');\n    builder.addFlowCode(`\\n${builder.tab}if ( ${nodeSnippet} ) {\\n\\n`).addFlowTab();\n    let ifSnippet = contextNode(ifNode, context).build(builder, type);\n    if (ifSnippet) {\n      if (needsOutput) {\n        ifSnippet = nodeProperty + ' = ' + ifSnippet + ';';\n      } else {\n        ifSnippet = 'return ' + ifSnippet + ';';\n      }\n    }\n    builder.removeFlowTab().addFlowCode(builder.tab + '\\t' + ifSnippet + '\\n\\n' + builder.tab + '}');\n    if (elseNode !== null) {\n      builder.addFlowCode(' else {\\n\\n').addFlowTab();\n      let elseSnippet = contextNode(elseNode, context).build(builder, type);\n      if (elseSnippet) {\n        if (needsOutput) {\n          elseSnippet = nodeProperty + ' = ' + elseSnippet + ';';\n        } else {\n          elseSnippet = 'return ' + elseSnippet + ';';\n        }\n      }\n      builder.removeFlowTab().addFlowCode(builder.tab + '\\t' + elseSnippet + '\\n\\n' + builder.tab + '}\\n\\n');\n    } else {\n      builder.addFlowCode('\\n\\n');\n    }\n    return builder.format(nodeProperty, type, output);\n  }\n}\nexport default CondNode;\nexport const cond = nodeProxy(CondNode);\naddNodeElement('cond', cond);\naddNodeClass('CondNode', CondNode);","map":{"version":3,"names":["Node","addNodeClass","property","context","contextNode","addNodeElement","nodeProxy","CondNode","constructor","condNode","ifNode","elseNode","getNodeType","builder","ifType","elseType","getTypeLength","generate","output","type","tempWrite","nodeData","getDataFromNode","nodeProperty","undefined","needsOutput","build","nodeSnippet","addFlowCode","tab","addFlowTab","ifSnippet","removeFlowTab","elseSnippet","format","cond"],"sources":["D:/dumps/online-learning-platform-main/Frontend/node_modules/three/examples/jsm/nodes/math/CondNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { property } from '../core/PropertyNode.js';\nimport { context as contextNode } from '../core/ContextNode.js';\nimport { addNodeElement, nodeProxy } from '../shadernode/ShaderNode.js';\n\nclass CondNode extends Node {\n\n\tconstructor( condNode, ifNode, elseNode = null ) {\n\n\t\tsuper();\n\n\t\tthis.condNode = condNode;\n\n\t\tthis.ifNode = ifNode;\n\t\tthis.elseNode = elseNode;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\tconst ifType = this.ifNode.getNodeType( builder );\n\n\t\tif ( this.elseNode !== null ) {\n\n\t\t\tconst elseType = this.elseNode.getNodeType( builder );\n\n\t\t\tif ( builder.getTypeLength( elseType ) > builder.getTypeLength( ifType ) ) {\n\n\t\t\t\treturn elseType;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn ifType;\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\t\tconst context = { tempWrite: false };\n\n\t\tconst nodeData = builder.getDataFromNode( this );\n\n\t\tif ( nodeData.nodeProperty !== undefined ) {\n\n\t\t\treturn nodeData.nodeProperty;\n\n\t\t}\n\n\t\tconst { ifNode, elseNode } = this;\n\n\t\tconst needsOutput = output !== 'void';\n\t\tconst nodeProperty = needsOutput ? property( type ).build( builder ) : '';\n\n\t\tnodeData.nodeProperty = nodeProperty;\n\n\t\tconst nodeSnippet = contextNode( this.condNode/*, context*/ ).build( builder, 'bool' );\n\n\t\tbuilder.addFlowCode( `\\n${ builder.tab }if ( ${ nodeSnippet } ) {\\n\\n` ).addFlowTab();\n\n\t\tlet ifSnippet = contextNode( ifNode, context ).build( builder, type );\n\n\t\tif ( ifSnippet ) {\n\n\t\t\tif ( needsOutput ) {\n\n\t\t\t\tifSnippet = nodeProperty + ' = ' + ifSnippet + ';';\n\n\t\t\t} else {\n\n\t\t\t\tifSnippet = 'return ' + ifSnippet + ';';\n\n\t\t\t}\n\n\t\t}\n\n\t\tbuilder.removeFlowTab().addFlowCode( builder.tab + '\\t' + ifSnippet + '\\n\\n' + builder.tab + '}' );\n\n\t\tif ( elseNode !== null ) {\n\n\t\t\tbuilder.addFlowCode( ' else {\\n\\n' ).addFlowTab();\n\n\t\t\tlet elseSnippet = contextNode( elseNode, context ).build( builder, type );\n\n\t\t\tif ( elseSnippet ) {\n\n\t\t\t\tif ( needsOutput ) {\n\n\t\t\t\t\telseSnippet = nodeProperty + ' = ' + elseSnippet + ';';\n\n\t\t\t\t} else {\n\n\t\t\t\t\telseSnippet = 'return ' + elseSnippet + ';';\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbuilder.removeFlowTab().addFlowCode( builder.tab + '\\t' + elseSnippet + '\\n\\n' + builder.tab + '}\\n\\n' );\n\n\t\t} else {\n\n\t\t\tbuilder.addFlowCode( '\\n\\n' );\n\n\t\t}\n\n\t\treturn builder.format( nodeProperty, type, output );\n\n\t}\n\n}\n\nexport default CondNode;\n\nexport const cond = nodeProxy( CondNode );\n\naddNodeElement( 'cond', cond );\n\naddNodeClass( 'CondNode', CondNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}