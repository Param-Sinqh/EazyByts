{"ast":null,"code":"import NodeMaterial, { addNodeMaterial } from './NodeMaterial.js';\nimport { diffuseColor, metalness, roughness, specularColor, specularF90 } from '../core/PropertyNode.js';\nimport { mix } from '../math/MathNode.js';\nimport { materialRoughness, materialMetalness } from '../accessors/MaterialNode.js';\nimport getRoughness from '../functions/material/getRoughness.js';\nimport PhysicalLightingModel from '../functions/PhysicalLightingModel.js';\nimport { float, vec3, vec4 } from '../shadernode/ShaderNode.js';\nimport { MeshStandardMaterial } from 'three';\nconst defaultValues = new MeshStandardMaterial();\nclass MeshStandardNodeMaterial extends NodeMaterial {\n  constructor(parameters) {\n    super();\n    this.isMeshStandardNodeMaterial = true;\n    this.emissiveNode = null;\n    this.metalnessNode = null;\n    this.roughnessNode = null;\n    this.setDefaultValues(defaultValues);\n    this.setValues(parameters);\n  }\n  setupLightingModel( /*builder*/\n  ) {\n    return new PhysicalLightingModel();\n  }\n  setupSpecular() {\n    const specularColorNode = mix(vec3(0.04), diffuseColor.rgb, metalness);\n    specularColor.assign(specularColorNode);\n    specularF90.assign(1.0);\n  }\n  setupVariants() {\n    // METALNESS\n\n    const metalnessNode = this.metalnessNode ? float(this.metalnessNode) : materialMetalness;\n    metalness.assign(metalnessNode);\n\n    // ROUGHNESS\n\n    let roughnessNode = this.roughnessNode ? float(this.roughnessNode) : materialRoughness;\n    roughnessNode = getRoughness({\n      roughness: roughnessNode\n    });\n    roughness.assign(roughnessNode);\n\n    // SPECULAR COLOR\n\n    this.setupSpecular();\n\n    // DIFFUSE COLOR\n\n    diffuseColor.assign(vec4(diffuseColor.rgb.mul(metalnessNode.oneMinus()), diffuseColor.a));\n  }\n  copy(source) {\n    this.emissiveNode = source.emissiveNode;\n    this.metalnessNode = source.metalnessNode;\n    this.roughnessNode = source.roughnessNode;\n    return super.copy(source);\n  }\n}\nexport default MeshStandardNodeMaterial;\naddNodeMaterial('MeshStandardNodeMaterial', MeshStandardNodeMaterial);","map":{"version":3,"names":["NodeMaterial","addNodeMaterial","diffuseColor","metalness","roughness","specularColor","specularF90","mix","materialRoughness","materialMetalness","getRoughness","PhysicalLightingModel","float","vec3","vec4","MeshStandardMaterial","defaultValues","MeshStandardNodeMaterial","constructor","parameters","isMeshStandardNodeMaterial","emissiveNode","metalnessNode","roughnessNode","setDefaultValues","setValues","setupLightingModel","setupSpecular","specularColorNode","rgb","assign","setupVariants","mul","oneMinus","a","copy","source"],"sources":["D:/dumps/online-learning-platform-main/Frontend/node_modules/three/examples/jsm/nodes/materials/MeshStandardNodeMaterial.js"],"sourcesContent":["import NodeMaterial, { addNodeMaterial } from './NodeMaterial.js';\nimport { diffuseColor, metalness, roughness, specularColor, specularF90 } from '../core/PropertyNode.js';\nimport { mix } from '../math/MathNode.js';\nimport { materialRoughness, materialMetalness } from '../accessors/MaterialNode.js';\nimport getRoughness from '../functions/material/getRoughness.js';\nimport PhysicalLightingModel from '../functions/PhysicalLightingModel.js';\nimport { float, vec3, vec4 } from '../shadernode/ShaderNode.js';\n\nimport { MeshStandardMaterial } from 'three';\n\nconst defaultValues = new MeshStandardMaterial();\n\nclass MeshStandardNodeMaterial extends NodeMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshStandardNodeMaterial = true;\n\n\t\tthis.emissiveNode = null;\n\n\t\tthis.metalnessNode = null;\n\t\tthis.roughnessNode = null;\n\n\t\tthis.setDefaultValues( defaultValues );\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tsetupLightingModel( /*builder*/ ) {\n\n\t\treturn new PhysicalLightingModel();\n\n\t}\n\n\tsetupSpecular() {\n\n\t\tconst specularColorNode = mix( vec3( 0.04 ), diffuseColor.rgb, metalness );\n\n\t\tspecularColor.assign( specularColorNode );\n\t\tspecularF90.assign( 1.0 );\n\n\t}\n\n\tsetupVariants() {\n\n\t\t// METALNESS\n\n\t\tconst metalnessNode = this.metalnessNode ? float( this.metalnessNode ) : materialMetalness;\n\n\t\tmetalness.assign( metalnessNode );\n\n\t\t// ROUGHNESS\n\n\t\tlet roughnessNode = this.roughnessNode ? float( this.roughnessNode ) : materialRoughness;\n\t\troughnessNode = getRoughness( { roughness: roughnessNode } );\n\n\t\troughness.assign( roughnessNode );\n\n\t\t// SPECULAR COLOR\n\n\t\tthis.setupSpecular();\n\n\t\t// DIFFUSE COLOR\n\n\t\tdiffuseColor.assign( vec4( diffuseColor.rgb.mul( metalnessNode.oneMinus() ), diffuseColor.a ) );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.emissiveNode = source.emissiveNode;\n\n\t\tthis.metalnessNode = source.metalnessNode;\n\t\tthis.roughnessNode = source.roughnessNode;\n\n\t\treturn super.copy( source );\n\n\t}\n\n}\n\nexport default MeshStandardNodeMaterial;\n\naddNodeMaterial( 'MeshStandardNodeMaterial', MeshStandardNodeMaterial );\n"],"mappings":"AAAA,OAAOA,YAAY,IAAIC,eAAe,QAAQ,mBAAmB;AACjE,SAASC,YAAY,EAAEC,SAAS,EAAEC,SAAS,EAAEC,aAAa,EAAEC,WAAW,QAAQ,yBAAyB;AACxG,SAASC,GAAG,QAAQ,qBAAqB;AACzC,SAASC,iBAAiB,EAAEC,iBAAiB,QAAQ,8BAA8B;AACnF,OAAOC,YAAY,MAAM,uCAAuC;AAChE,OAAOC,qBAAqB,MAAM,uCAAuC;AACzE,SAASC,KAAK,EAAEC,IAAI,EAAEC,IAAI,QAAQ,6BAA6B;AAE/D,SAASC,oBAAoB,QAAQ,OAAO;AAE5C,MAAMC,aAAa,GAAG,IAAID,oBAAoB,CAAC,CAAC;AAEhD,MAAME,wBAAwB,SAASjB,YAAY,CAAC;EAEnDkB,WAAWA,CAAEC,UAAU,EAAG;IAEzB,KAAK,CAAC,CAAC;IAEP,IAAI,CAACC,0BAA0B,GAAG,IAAI;IAEtC,IAAI,CAACC,YAAY,GAAG,IAAI;IAExB,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,aAAa,GAAG,IAAI;IAEzB,IAAI,CAACC,gBAAgB,CAAER,aAAc,CAAC;IAEtC,IAAI,CAACS,SAAS,CAAEN,UAAW,CAAC;EAE7B;EAEAO,kBAAkBA,CAAA,CAAE;EAAA,EAAc;IAEjC,OAAO,IAAIf,qBAAqB,CAAC,CAAC;EAEnC;EAEAgB,aAAaA,CAAA,EAAG;IAEf,MAAMC,iBAAiB,GAAGrB,GAAG,CAAEM,IAAI,CAAE,IAAK,CAAC,EAAEX,YAAY,CAAC2B,GAAG,EAAE1B,SAAU,CAAC;IAE1EE,aAAa,CAACyB,MAAM,CAAEF,iBAAkB,CAAC;IACzCtB,WAAW,CAACwB,MAAM,CAAE,GAAI,CAAC;EAE1B;EAEAC,aAAaA,CAAA,EAAG;IAEf;;IAEA,MAAMT,aAAa,GAAG,IAAI,CAACA,aAAa,GAAGV,KAAK,CAAE,IAAI,CAACU,aAAc,CAAC,GAAGb,iBAAiB;IAE1FN,SAAS,CAAC2B,MAAM,CAAER,aAAc,CAAC;;IAEjC;;IAEA,IAAIC,aAAa,GAAG,IAAI,CAACA,aAAa,GAAGX,KAAK,CAAE,IAAI,CAACW,aAAc,CAAC,GAAGf,iBAAiB;IACxFe,aAAa,GAAGb,YAAY,CAAE;MAAEN,SAAS,EAAEmB;IAAc,CAAE,CAAC;IAE5DnB,SAAS,CAAC0B,MAAM,CAAEP,aAAc,CAAC;;IAEjC;;IAEA,IAAI,CAACI,aAAa,CAAC,CAAC;;IAEpB;;IAEAzB,YAAY,CAAC4B,MAAM,CAAEhB,IAAI,CAAEZ,YAAY,CAAC2B,GAAG,CAACG,GAAG,CAAEV,aAAa,CAACW,QAAQ,CAAC,CAAE,CAAC,EAAE/B,YAAY,CAACgC,CAAE,CAAE,CAAC;EAEhG;EAEAC,IAAIA,CAAEC,MAAM,EAAG;IAEd,IAAI,CAACf,YAAY,GAAGe,MAAM,CAACf,YAAY;IAEvC,IAAI,CAACC,aAAa,GAAGc,MAAM,CAACd,aAAa;IACzC,IAAI,CAACC,aAAa,GAAGa,MAAM,CAACb,aAAa;IAEzC,OAAO,KAAK,CAACY,IAAI,CAAEC,MAAO,CAAC;EAE5B;AAED;AAEA,eAAenB,wBAAwB;AAEvChB,eAAe,CAAE,0BAA0B,EAAEgB,wBAAyB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}