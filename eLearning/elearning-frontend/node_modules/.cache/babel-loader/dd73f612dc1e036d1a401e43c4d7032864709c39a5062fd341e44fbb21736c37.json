{"ast":null,"code":"import InputNode from './InputNode.js';\nimport { objectGroup } from './UniformGroupNode.js';\nimport { addNodeClass } from './Node.js';\nimport { nodeObject, getConstNodeType } from '../shadernode/ShaderNode.js';\nclass UniformNode extends InputNode {\n  constructor(value, nodeType = null) {\n    super(value, nodeType);\n    this.isUniformNode = true;\n    this.groupNode = objectGroup;\n  }\n  setGroup(group) {\n    this.groupNode = group;\n    return this;\n  }\n  getGroup() {\n    return this.groupNode;\n  }\n  getUniformHash(builder) {\n    return this.getHash(builder);\n  }\n  onUpdate(callback, updateType) {\n    const self = this.getSelf();\n    callback = callback.bind(self);\n    return super.onUpdate(frame => {\n      const value = callback(frame, self);\n      if (value !== undefined) {\n        this.value = value;\n      }\n    }, updateType);\n  }\n  generate(builder, output) {\n    const type = this.getNodeType(builder);\n    const hash = this.getUniformHash(builder);\n    let sharedNode = builder.getNodeFromHash(hash);\n    if (sharedNode === undefined) {\n      builder.setHashNode(this, hash);\n      sharedNode = this;\n    }\n    const sharedNodeType = sharedNode.getInputType(builder);\n    const nodeUniform = builder.getUniformFromNode(sharedNode, sharedNodeType, builder.shaderStage, builder.context.label);\n    const propertyName = builder.getPropertyName(nodeUniform);\n    if (builder.context.label !== undefined) delete builder.context.label;\n    return builder.format(propertyName, type, output);\n  }\n}\nexport default UniformNode;\nexport const uniform = (arg1, arg2) => {\n  const nodeType = getConstNodeType(arg2 || arg1);\n\n  // @TODO: get ConstNode from .traverse() in the future\n  const value = arg1 && arg1.isNode === true ? arg1.node && arg1.node.value || arg1.value : arg1;\n  return nodeObject(new UniformNode(value, nodeType));\n};\naddNodeClass('UniformNode', UniformNode);","map":{"version":3,"names":["InputNode","objectGroup","addNodeClass","nodeObject","getConstNodeType","UniformNode","constructor","value","nodeType","isUniformNode","groupNode","setGroup","group","getGroup","getUniformHash","builder","getHash","onUpdate","callback","updateType","self","getSelf","bind","frame","undefined","generate","output","type","getNodeType","hash","sharedNode","getNodeFromHash","setHashNode","sharedNodeType","getInputType","nodeUniform","getUniformFromNode","shaderStage","context","label","propertyName","getPropertyName","format","uniform","arg1","arg2","isNode","node"],"sources":["D:/dumps/online-learning-platform-main/Frontend/node_modules/three/examples/jsm/nodes/core/UniformNode.js"],"sourcesContent":["import InputNode from './InputNode.js';\nimport { objectGroup } from './UniformGroupNode.js';\nimport { addNodeClass } from './Node.js';\nimport { nodeObject, getConstNodeType } from '../shadernode/ShaderNode.js';\n\nclass UniformNode extends InputNode {\n\n\tconstructor( value, nodeType = null ) {\n\n\t\tsuper( value, nodeType );\n\n\t\tthis.isUniformNode = true;\n\n\t\tthis.groupNode = objectGroup;\n\n\t}\n\n\tsetGroup( group ) {\n\n\t\tthis.groupNode = group;\n\n\t\treturn this;\n\n\t}\n\n\tgetGroup() {\n\n\t\treturn this.groupNode;\n\n\t}\n\n\tgetUniformHash( builder ) {\n\n\t\treturn this.getHash( builder );\n\n\t}\n\n\tonUpdate( callback, updateType ) {\n\n\t\tconst self = this.getSelf();\n\n\t\tcallback = callback.bind( self );\n\n\t\treturn super.onUpdate( ( frame ) => {\n\n\t\t\tconst value = callback( frame, self );\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\tthis.value = value;\n\n\t\t\t}\n\n\t \t}, updateType );\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\n\t\tconst hash = this.getUniformHash( builder );\n\n\t\tlet sharedNode = builder.getNodeFromHash( hash );\n\n\t\tif ( sharedNode === undefined ) {\n\n\t\t\tbuilder.setHashNode( this, hash );\n\n\t\t\tsharedNode = this;\n\n\t\t}\n\n\t\tconst sharedNodeType = sharedNode.getInputType( builder );\n\n\t\tconst nodeUniform = builder.getUniformFromNode( sharedNode, sharedNodeType, builder.shaderStage, builder.context.label );\n\t\tconst propertyName = builder.getPropertyName( nodeUniform );\n\n\t\tif ( builder.context.label !== undefined ) delete builder.context.label;\n\n\t\treturn builder.format( propertyName, type, output );\n\n\t}\n\n}\n\nexport default UniformNode;\n\nexport const uniform = ( arg1, arg2 ) => {\n\n\tconst nodeType = getConstNodeType( arg2 || arg1 );\n\n\t// @TODO: get ConstNode from .traverse() in the future\n\tconst value = ( arg1 && arg1.isNode === true ) ? ( arg1.node && arg1.node.value ) || arg1.value : arg1;\n\n\treturn nodeObject( new UniformNode( value, nodeType ) );\n\n};\n\naddNodeClass( 'UniformNode', UniformNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}