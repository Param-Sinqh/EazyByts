{"ast":null,"code":"import { mx_perlin_noise_float, mx_perlin_noise_vec3, mx_worley_noise_float as worley_noise_float, mx_worley_noise_vec2 as worley_noise_vec2, mx_worley_noise_vec3 as worley_noise_vec3, mx_cell_noise_float as cell_noise_float, mx_fractal_noise_float as fractal_noise_float, mx_fractal_noise_vec2 as fractal_noise_vec2, mx_fractal_noise_vec3 as fractal_noise_vec3, mx_fractal_noise_vec4 as fractal_noise_vec4 } from './lib/mx_noise.js';\nimport { mx_hsvtorgb, mx_rgbtohsv } from './lib/mx_hsv.js';\nimport { mx_srgb_texture_to_lin_rec709 } from './lib/mx_transform_color.js';\nimport { mix, smoothstep } from '../math/MathNode.js';\nimport { uv } from '../accessors/UVNode.js';\nimport { float, vec2, vec4, int } from '../shadernode/ShaderNode.js';\nexport const mx_aastep = (threshold, value) => {\n  threshold = float(threshold);\n  value = float(value);\n  const afwidth = vec2(value.dFdx(), value.dFdy()).length().mul(0.70710678118654757);\n  return smoothstep(threshold.sub(afwidth), threshold.add(afwidth), value);\n};\nconst _ramp = (a, b, uv, p) => mix(a, b, uv[p].clamp());\nexport const mx_ramplr = (valuel, valuer, texcoord = uv()) => _ramp(valuel, valuer, texcoord, 'x');\nexport const mx_ramptb = (valuet, valueb, texcoord = uv()) => _ramp(valuet, valueb, texcoord, 'y');\nconst _split = (a, b, center, uv, p) => mix(a, b, mx_aastep(center, uv[p]));\nexport const mx_splitlr = (valuel, valuer, center, texcoord = uv()) => _split(valuel, valuer, center, texcoord, 'x');\nexport const mx_splittb = (valuet, valueb, center, texcoord = uv()) => _split(valuet, valueb, center, texcoord, 'y');\nexport const mx_transform_uv = (uv_scale = 1, uv_offset = 0, uv_geo = uv()) => uv_geo.mul(uv_scale).add(uv_offset);\nexport const mx_safepower = (in1, in2 = 1) => {\n  in1 = float(in1);\n  return in1.abs().pow(in2).mul(in1.sign());\n};\nexport const mx_contrast = (input, amount = 1, pivot = .5) => float(input).sub(pivot).mul(amount).add(pivot);\nexport const mx_noise_float = (texcoord = uv(), amplitude = 1, pivot = 0) => mx_perlin_noise_float(texcoord.convert('vec2|vec3')).mul(amplitude).add(pivot);\n//export const mx_noise_vec2 = ( texcoord = uv(), amplitude = 1, pivot = 0 ) => mx_perlin_noise_vec3( texcoord.convert( 'vec2|vec3' ) ).mul( amplitude ).add( pivot );\nexport const mx_noise_vec3 = (texcoord = uv(), amplitude = 1, pivot = 0) => mx_perlin_noise_vec3(texcoord.convert('vec2|vec3')).mul(amplitude).add(pivot);\nexport const mx_noise_vec4 = (texcoord = uv(), amplitude = 1, pivot = 0) => {\n  texcoord = texcoord.convert('vec2|vec3'); // overloading type\n\n  const noise_vec4 = vec4(mx_perlin_noise_vec3(texcoord), mx_perlin_noise_float(texcoord.add(vec2(19, 73))));\n  return noise_vec4.mul(amplitude).add(pivot);\n};\nexport const mx_worley_noise_float = (texcoord = uv(), jitter = 1) => worley_noise_float(texcoord.convert('vec2|vec3'), jitter, int(1));\nexport const mx_worley_noise_vec2 = (texcoord = uv(), jitter = 1) => worley_noise_vec2(texcoord.convert('vec2|vec3'), jitter, int(1));\nexport const mx_worley_noise_vec3 = (texcoord = uv(), jitter = 1) => worley_noise_vec3(texcoord.convert('vec2|vec3'), jitter, int(1));\nexport const mx_cell_noise_float = (texcoord = uv()) => cell_noise_float(texcoord.convert('vec2|vec3'));\nexport const mx_fractal_noise_float = (position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1) => fractal_noise_float(position, int(octaves), lacunarity, diminish).mul(amplitude);\nexport const mx_fractal_noise_vec2 = (position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1) => fractal_noise_vec2(position, int(octaves), lacunarity, diminish).mul(amplitude);\nexport const mx_fractal_noise_vec3 = (position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1) => fractal_noise_vec3(position, int(octaves), lacunarity, diminish).mul(amplitude);\nexport const mx_fractal_noise_vec4 = (position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1) => fractal_noise_vec4(position, int(octaves), lacunarity, diminish).mul(amplitude);\nexport { mx_hsvtorgb, mx_rgbtohsv, mx_srgb_texture_to_lin_rec709 };","map":{"version":3,"names":["mx_perlin_noise_float","mx_perlin_noise_vec3","mx_worley_noise_float","worley_noise_float","mx_worley_noise_vec2","worley_noise_vec2","mx_worley_noise_vec3","worley_noise_vec3","mx_cell_noise_float","cell_noise_float","mx_fractal_noise_float","fractal_noise_float","mx_fractal_noise_vec2","fractal_noise_vec2","mx_fractal_noise_vec3","fractal_noise_vec3","mx_fractal_noise_vec4","fractal_noise_vec4","mx_hsvtorgb","mx_rgbtohsv","mx_srgb_texture_to_lin_rec709","mix","smoothstep","uv","float","vec2","vec4","int","mx_aastep","threshold","value","afwidth","dFdx","dFdy","length","mul","sub","add","_ramp","a","b","p","clamp","mx_ramplr","valuel","valuer","texcoord","mx_ramptb","valuet","valueb","_split","center","mx_splitlr","mx_splittb","mx_transform_uv","uv_scale","uv_offset","uv_geo","mx_safepower","in1","in2","abs","pow","sign","mx_contrast","input","amount","pivot","mx_noise_float","amplitude","convert","mx_noise_vec3","mx_noise_vec4","noise_vec4","jitter","position","octaves","lacunarity","diminish"],"sources":["D:/dumps/online-learning-platform-main/Frontend/node_modules/three/examples/jsm/nodes/materialx/MaterialXNodes.js"],"sourcesContent":["import {\n\tmx_perlin_noise_float, mx_perlin_noise_vec3,\n\tmx_worley_noise_float as worley_noise_float, mx_worley_noise_vec2 as worley_noise_vec2, mx_worley_noise_vec3 as worley_noise_vec3,\n\tmx_cell_noise_float as cell_noise_float,\n\tmx_fractal_noise_float as fractal_noise_float, mx_fractal_noise_vec2 as fractal_noise_vec2, mx_fractal_noise_vec3 as fractal_noise_vec3, mx_fractal_noise_vec4 as fractal_noise_vec4\n} from './lib/mx_noise.js';\nimport { mx_hsvtorgb, mx_rgbtohsv } from './lib/mx_hsv.js';\nimport { mx_srgb_texture_to_lin_rec709 } from './lib/mx_transform_color.js';\nimport { mix, smoothstep } from '../math/MathNode.js';\nimport { uv } from '../accessors/UVNode.js';\nimport { float, vec2, vec4, int } from '../shadernode/ShaderNode.js';\n\nexport const mx_aastep = ( threshold, value ) => {\n\n\tthreshold = float( threshold );\n\tvalue = float( value );\n\n\tconst afwidth = vec2( value.dFdx(), value.dFdy() ).length().mul( 0.70710678118654757 );\n\n\treturn smoothstep( threshold.sub( afwidth ), threshold.add( afwidth ), value );\n\n};\n\nconst _ramp = ( a, b, uv, p ) => mix( a, b, uv[ p ].clamp() );\nexport const mx_ramplr = ( valuel, valuer, texcoord = uv() ) => _ramp( valuel, valuer, texcoord, 'x' );\nexport const mx_ramptb = ( valuet, valueb, texcoord = uv() ) => _ramp( valuet, valueb, texcoord, 'y' );\n\nconst _split = ( a, b, center, uv, p ) => mix( a, b, mx_aastep( center, uv[ p ] ) );\nexport const mx_splitlr = ( valuel, valuer, center, texcoord = uv() ) => _split( valuel, valuer, center, texcoord, 'x' );\nexport const mx_splittb = ( valuet, valueb, center, texcoord = uv() ) => _split( valuet, valueb, center, texcoord, 'y' );\n\nexport const mx_transform_uv = ( uv_scale = 1, uv_offset = 0, uv_geo = uv() ) => uv_geo.mul( uv_scale ).add( uv_offset );\n\nexport const mx_safepower = ( in1, in2 = 1 ) => {\n\n\tin1 = float( in1 );\n\n\treturn in1.abs().pow( in2 ).mul( in1.sign() );\n\n};\n\nexport const mx_contrast = ( input, amount = 1, pivot = .5 ) => float( input ).sub( pivot ).mul( amount ).add( pivot );\n\nexport const mx_noise_float = ( texcoord = uv(), amplitude = 1, pivot = 0 ) => mx_perlin_noise_float( texcoord.convert( 'vec2|vec3' ) ).mul( amplitude ).add( pivot );\n//export const mx_noise_vec2 = ( texcoord = uv(), amplitude = 1, pivot = 0 ) => mx_perlin_noise_vec3( texcoord.convert( 'vec2|vec3' ) ).mul( amplitude ).add( pivot );\nexport const mx_noise_vec3 = ( texcoord = uv(), amplitude = 1, pivot = 0 ) => mx_perlin_noise_vec3( texcoord.convert( 'vec2|vec3' ) ).mul( amplitude ).add( pivot );\nexport const mx_noise_vec4 = ( texcoord = uv(), amplitude = 1, pivot = 0 ) => {\n\n\ttexcoord = texcoord.convert( 'vec2|vec3' ); // overloading type\n\n\tconst noise_vec4 = vec4( mx_perlin_noise_vec3( texcoord ), mx_perlin_noise_float( texcoord.add( vec2( 19, 73 ) ) ) );\n\n\treturn noise_vec4.mul( amplitude ).add( pivot );\n\n};\n\nexport const mx_worley_noise_float = ( texcoord = uv(), jitter = 1 ) => worley_noise_float( texcoord.convert( 'vec2|vec3' ), jitter, int( 1 ) );\nexport const mx_worley_noise_vec2 = ( texcoord = uv(), jitter = 1 ) => worley_noise_vec2( texcoord.convert( 'vec2|vec3' ), jitter, int( 1 ) );\nexport const mx_worley_noise_vec3 = ( texcoord = uv(), jitter = 1 ) => worley_noise_vec3( texcoord.convert( 'vec2|vec3' ), jitter, int( 1 ) );\n\nexport const mx_cell_noise_float = ( texcoord = uv() ) => cell_noise_float( texcoord.convert( 'vec2|vec3' ) );\n\nexport const mx_fractal_noise_float = ( position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1 ) => fractal_noise_float( position, int( octaves ), lacunarity, diminish ).mul( amplitude );\nexport const mx_fractal_noise_vec2 = ( position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1 ) => fractal_noise_vec2( position, int( octaves ), lacunarity, diminish ).mul( amplitude );\nexport const mx_fractal_noise_vec3 = ( position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1 ) => fractal_noise_vec3( position, int( octaves ), lacunarity, diminish ).mul( amplitude );\nexport const mx_fractal_noise_vec4 = ( position = uv(), octaves = 3, lacunarity = 2, diminish = .5, amplitude = 1 ) => fractal_noise_vec4( position, int( octaves ), lacunarity, diminish ).mul( amplitude );\n\nexport { mx_hsvtorgb, mx_rgbtohsv, mx_srgb_texture_to_lin_rec709 };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}